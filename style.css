*{box-sizing:border-box}
:root{
  --bg0:#030918; --bg1:#041126; --grid:#2a3953; --ink:#eaf3ff; --m:#97b7ff;
  --deepcore:#fff8; --core:#ffe08250; --colonies:#ffb07440; --inner:#ff84c038; --exp:#91ffd43a;
  --mid:#7fd0ff33; --outer:#9fc8ff28; --unknown:#e3b2ff2e;
}
html,body{height:100%;margin:0;font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:radial-gradient(1600px 1000px at 58% 8%, #0b1947 0%, #07163c 55%, #041331 80%, #030918 100%);color:var(--ink)}
header{display:flex;align-items:center;gap:1rem;padding:.6rem .8rem;border-bottom:1px solid #0e2150;background:linear-gradient(180deg,#0e1d4a,#0b1740)}
.brand h1{margin:0;font-size:1rem;letter-spacing:.3em}
.brand .sub{opacity:.8;font-size:.72rem;letter-spacing:.2em;text-transform:uppercase}
.controls{margin-left:auto;display:flex;gap:.5rem;align-items:center}
.controls input,.controls select,.controls button{background:#0a1c47;color:var(--ink);border:1px solid #1b3770;padding:.5rem .6rem;border-radius:.5rem}
.controls input{min-width:220px}
.controls button{cursor:pointer}

main{display:grid;grid-template-columns:1fr auto;min-height:calc(100% - 56px)}
.mapWrap{position:relative;overflow:hidden}
#map{display:block;width:100%;height:calc(100vh - 92px)}

#legend{position:absolute;left:10px;bottom:10px;background:rgba(10,20,50,.65);border:1px solid #173364;border-radius:.5rem;padding:.4rem .5rem;display:grid;grid-template-columns:auto 1fr auto 1fr;gap:.25rem .6rem;backdrop-filter:blur(2px)}
.sw{display:inline-block;width:.8rem;height:.8rem;border-radius:50%}
.sw.deepcore{background:var(--deepcore)} .sw.core{background:var(--core)} .sw.colonies{background:var(--colonies)}
.sw.innerrim{background:var(--inner)} .sw.expansion{background:var(--exp)} .sw.midrim{background:var(--mid)}
.sw.outerrim{background:var(--outer)} .sw.unknown{background:var(--unknown)}

#coords{position:absolute;top:8px;right:10px;color:#b8c9ea;font-size:.85rem;opacity:.9}

aside{width:320px;max-width:92vw;border-left:1px solid #142d66;background:linear-gradient(180deg,#0c1f4f,#0a1a43)}
aside[hidden]{display:none}
aside .head{display:flex;justify-content:space-between;align-items:center;padding:.5rem .7rem;border-bottom:1px solid #142d66}
#list{list-style:none;margin:0;padding:.4rem;max-height:calc(100vh - 120px);overflow:auto}
#list li{padding:.4rem .5rem;border:1px solid transparent;border-radius:.4rem;display:grid;grid-template-columns:1fr auto;gap:.5rem;align-items:center;cursor:pointer}
#list li small{color:#9fb0d5}
#list li:hover{background:#0e2357;border-color:#173364}

dialog{max-width:min(520px,92vw);border:1px solid #18336a;background:#0a1b42;color:var(--ink);border-radius:.6rem}
.dHead{display:flex;justify-content:space-between;align-items:center;padding:.6rem;border-bottom:1px solid #18336a}
.dBody{padding:.7rem}
dt{color:#a9bce6;font-weight:700}
dd{margin:0 0 .5rem}

footer{display:flex;justify-content:space-between;align-items:center;gap:1rem;padding:.5rem .8rem;border-top:1px solid #0e2150;background:#081740;color:#a9bce6}

@media (max-width: 960px){
  main{grid-template-columns:1fr}
  aside{position:fixed;right:0;top:56px;bottom:0;z-index:10}
  #map{height:calc(100vh - 56px - 42px)}
}
